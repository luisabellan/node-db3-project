"use strict";var db=require("../data/config");function find(){return db("schemes")}function findById(e){return db("schemes").where({id:e}).first()}function add(n){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(db("schemes").insert(n).then(function(e){return findById(e[0])}));case 2:case"end":return e.stop()}})}function remove(e){return db("schemes").where({id:e}).first().del()}function findSteps(e){var n=db("steps as s").join("schemes as k","s.id","k.id").select("s.id","k.scheme_name","s.step_number","s.instructions");return db(n).where({id:e})}function update(n,r){var t;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(db("schemes").where({id:r}).update(n));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}})}module.exports={find:find,add:add,remove:remove,findById:findById,findSteps:findSteps,update:update};